"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3249,1765],{5269:(x,v,l)=>{l.d(v,{u:()=>t});var a=l(4438),s=l(177),o=l(5150);const c=["*"];function u(d,h){if(1&d&&(a.j41(0,"span"),a.EFF(1),a.k0s()),2&d){const f=a.XpG();a.R7$(),a.JRh(f.content)}}let t=(()=>{class d{constructor(){this.color="danger",this.content="Alert Something is wrong"}ngOnInit(){}static#t=this.\u0275fac=function(g){return new(g||d)};static#n=this.\u0275cmp=a.VBU({type:d,selectors:[["app-alert-card"]],inputs:{color:"color",content:"content"},ngContentSelectors:c,decls:7,vars:3,consts:[["ngContent",""],[1,"alert"],["name","alert-circle-outline"],[4,"ngIf"]],template:function(g,P){if(1&g&&(a.NAR(),a.j41(0,"div",1)(1,"div"),a.nrm(2,"ion-icon",2),a.k0s(),a.j41(3,"div",null,0),a.SdG(5),a.k0s(),a.DNE(6,u,2,1,"span",3),a.k0s()),2&g){const C=a.sdS(4);a.HbH(P.color),a.R7$(6),a.Y8G("ngIf",!C.innerHTML.trim())}},dependencies:[s.bT,o.iq],styles:[".alert[_ngcontent-%COMP%]{padding:6px 16px;color:var(--ion-color-dark);border-radius:8px;border:1px solid;display:flex}.alert[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-right:6px}.alert[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.danger[_ngcontent-%COMP%]{border-color:var(--ion-color-danger);background:#ed576b5d;color:var(--ion-color-danger-shade)}.warning[_ngcontent-%COMP%]{border-color:var(--ion-color-warning);background:#e0ae0852;color:var(--ion-color-warning-shade)}.success[_ngcontent-%COMP%]{border-color:var(--ion-color-success);background:#28ba6246;color:var(--ion-color-success-shade)}"]})}return d})()},1765:(x,v,l)=>{l.d(v,{n:()=>o});var a=l(4438),s=l(5150);let o=(()=>{class c{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(d){return new(d||c)};static#n=this.\u0275cmp=a.VBU({type:c,selectors:[["app-footer"]],decls:18,vars:0,consts:[[1,"footer-content",2,"display","flex","justify-content","space-between","align-items","center","padding","10px"],[1,"title",2,"font-size","18px","font-weight","bold","color","#000000"],[1,"source",2,"display","flex","align-items","center"],["href","https://web.facebook.com/profile.php?id=61560796961573&locale=ar_AR",2,"display","flex","align-items","center","text-decoration","none","margin-right","15px"],["name","logo-facebook",2,"font-size","20px","color","#0054e9","margin-right","5px"],[1,"text-[#0054e9]",2,"color","#0054e9","font-size","16px"],["href","https://www.youtube.com/@HichamEchchouabi","target","_blank",2,"display","flex","align-items","center","text-decoration","none","margin-right","15px"],["name","logo-youtube",2,"font-size","20px","color","#FF0000","margin-right","5px"],[1,"text-[#FF0000]",2,"color","#FF0000","font-size","16px"],["href","https://api.whatsapp.com/send?phone=212651168813","target","_blank",2,"display","flex","align-items","center","text-decoration","none"],["name","logo-whatsapp",2,"font-size","20px","color","#25D366","margin-right","5px"],[1,"text-[#25D366]",2,"color","#25D366","font-size","16px"]],template:function(d,h){1&d&&(a.j41(0,"ion-footer")(1,"ion-toolbar")(2,"div",0)(3,"div",1),a.EFF(4," \u0647\u0634\u0627\u0645 \u0644\u0644\u0639\u0642\u0627\u0631 \u0627\u0644\u062f\u0627\u062e\u0644\u0629 "),a.k0s(),a.j41(5,"div",2)(6,"a",3),a.nrm(7,"ion-icon",4),a.j41(8,"ion-text",5),a.EFF(9," Facebook "),a.k0s()(),a.j41(10,"a",6),a.nrm(11,"ion-icon",7),a.j41(12,"ion-text",8),a.EFF(13," YouTube "),a.k0s()(),a.j41(14,"a",9),a.nrm(15,"ion-icon",10),a.j41(16,"ion-text",11),a.EFF(17," WhatsApp "),a.k0s()()()()()())},dependencies:[s.M0,s.iq,s.IO,s.ai],styles:[".footer-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.footer-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:14px}.footer-content[_ngcontent-%COMP%]   .source[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px}"]})}return c})()},4349:(x,v,l)=>{l.d(v,{N:()=>a});let a=(()=>{class s{static isSame(c,u,t="isSame"){return d=>{const h=d.get(c),f=d.get(u);return h&&f&&h.value===f.value?{[t]:!0}:null}}static isDifferent(c,u,t="isDifferent"){return d=>{const h=d.get(c),f=d.get(u);return h&&f&&h.value!==f.value?{[t]:!0}:null}}static isGreaterValidator(c,u,t="isGreater"){return d=>{const h=Number(d.value[c].split(",").join("")),f=Number(d.value[u].split(",").join(""));return h&&f&&h<=f?{[t]:!0}:null}}static patternValidator(c,u){return t=>t.value?c.test(t.value)?null:u:null}static emailValidation(){return c=>{const u=c.value;return u?/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(u)?null:{invalidFormat:!0}:null}}static#t=this.confirmPasswordValidator=c=>c.parent?c.parent.get("passwordNew").value===c.value?null:{PasswordNoMatch:!0}:null}return s})()},3249:(x,v,l)=>{l.r(v),l.d(v,{UserPageModule:()=>it});var a=l(177),s=l(4341),o=l(5150),c=l(914),u=l(467),t=l(4438),d=l(9932);let h=(()=>{class e{constructor(n,i){this.user=n,this.router=i}canActivate(){var n=this;return(0,u.A)(function*(){return!!n.user.user||(n.router.navigate(["/map"]),!1)})()}static#t=this.\u0275fac=function(i){return new(i||e)(t.KVO(d.D),t.KVO(c.Ix))};static#n=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),f=(()=>{class e{constructor(n,i){this.user=n,this.router=i}canActivate(){var n=this;return(0,u.A)(function*(){return!n.user.user||(n.router.navigate(["/map"]),!1)})()}static#t=this.\u0275fac=function(i){return new(i||e)(t.KVO(d.D),t.KVO(c.Ix))};static#n=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var g=l(4349);let P=(()=>{class e{constructor(n,i,r,m){this.fb=n,this.user=i,this.toast=r,this.router=m,this.error=!1;const _=[s.k0.required,s.k0.minLength(8),g.N.patternValidator(/\d/,{hasNumber:!0}),g.N.patternValidator(/[A-Z]/,{hasCapitalCase:!0}),g.N.patternValidator(/[a-z]/,{hasSmallCase:!0}),g.N.patternValidator(/[!@#$%^&*(),.?":{}|<>]/,{hasSpecialCharacters:!0})];this.changePassForm=this.fb.group({passwordCurrent:["",s.k0.required],passwordNew:["",_],passwordConfirm:["",[..._,g.N.confirmPasswordValidator]]})}ngOnInit(){}submit(){var n=this;return(0,u.A)(function*(){if(n.changePassForm.invalid){n.error=!0;let b="Form is not valid";return n.changePassForm.controls.passwordConfirm?.errors?.PasswordNoMatch&&(b="Passwords are not matching"),void(yield n.toast.create({message:b,duration:5e3,color:"danger"})).present()}const i=n.changePassForm.value.passwordCurrent,r=n.changePassForm.value.passwordNew,m=yield n.user.changePassword(r,i);n.changePassForm.reset(),(yield n.toast.create({message:m.message,duration:5e3,color:200===m.status?"success":"danger"})).present(),200===m.status&&(n.user.signOut(),n.router.navigate(["/user/signin"]))})()}static#t=this.\u0275fac=function(i){return new(i||e)(t.rXU(s.ze),t.rXU(d.D),t.rXU(o.K_),t.rXU(c.Ix))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-change-password"]],decls:30,vars:1,consts:[[1,"change-pass-container"],[1,"change-pass-card","lg:max-w-[400px]"],[1,"ion-text-center"],[1,"logo-container"],["src","../assets/images/logo.png","alt","logo"],[1,"source"],[1,"title"],[1,"sub-title"],[3,"submit","formGroup"],["labelPlacement","floating","label","Password Current","type","password","formControlName","passwordCurrent"],["labelPlacement","floating","label","Password New","type","password","formControlName","passwordNew"],["labelPlacement","floating","label","Password Confirm","type","password","formControlName","passwordConfirm"],[1,"pt-3"],["size","large","expand","full","color","primary","type","submit",1,"ion-margin-top"]],template:function(i,r){1&i&&(t.j41(0,"ion-content")(1,"div",0)(2,"ion-card",1)(3,"ion-card-header",2)(4,"div",3),t.nrm(5,"img",4)(6,"div",5),t.k0s()(),t.j41(7,"ion-card-content")(8,"div",6),t.EFF(9,"Change Passowrd"),t.k0s(),t.j41(10,"div",7),t.EFF(11," Your new Password must be different from your previous Password "),t.k0s(),t.j41(12,"form",8),t.bIt("submit",function(){return r.submit()}),t.j41(13,"ion-list")(14,"ion-item"),t.nrm(15,"ion-input",9),t.k0s(),t.j41(16,"ion-item"),t.nrm(17,"ion-input",10),t.k0s(),t.j41(18,"ion-item"),t.nrm(19,"ion-input",11),t.k0s(),t.j41(20,"div",12)(21,"ul")(22,"li"),t.EFF(23,"Passwords must be atleast 8 characters log."),t.k0s(),t.j41(24,"li"),t.EFF(25,"New Password and Confirm Password must be the same."),t.k0s(),t.j41(26,"li"),t.EFF(27," Passowrd must contain a number, special charaters, cappitalize & small case "),t.k0s()()(),t.j41(28,"ion-button",13),t.EFF(29," Submit "),t.k0s()()()()()()()),2&i&&(t.R7$(12),t.Y8G("formGroup",r.changePassForm))},dependencies:[s.qT,s.BC,s.cb,o.Jm,o.b_,o.I9,o.ME,o.W9,o.$w,o.uz,o.nf,o.Gw,s.j4,s.JD],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-background-color-step-100)}ion-card[_ngcontent-%COMP%]{box-shadow:none}.change-pass-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;width:100%;min-height:100%;display:flex;justify-content:center;align-items:center}.logo-container[_ngcontent-%COMP%]{margin:30px auto 0;max-width:200px;text-align:center}@media (max-width: 600px){.change-pass-card[_ngcontent-%COMP%]{box-shadow:none;min-height:100%;width:100%;max-width:400px}}"]})}return e})();var C=l(2244);function M(e,p){if(1&e){const n=t.RV6();t.j41(0,"ion-item",3),t.bIt("click",function(){t.eBV(n);const r=t.XpG();return t.Njj(r.itemClicked())}),t.j41(1,"ion-label"),t.EFF(2),t.k0s(),t.j41(3,"div",4)(4,"ion-badge",5),t.EFF(5),t.k0s(),t.EFF(6),t.nI1(7,"date"),t.k0s()()}if(2&e){const n=p.$implicit,i=t.XpG();t.R7$(2),t.JRh(n.title),t.R7$(2),t.Y8G("color",i.getItemBadge(n.type)),t.R7$(),t.JRh(n.type),t.R7$(),t.SpI(" ",t.bMT(7,4,n.date)," ")}}let O=(()=>{class e{constructor(){this.notifications=[{id:"01",title:"Property have been added.",type:"property",date:new Date},{id:"02",title:"Property have been added.",type:"property",date:new Date},{id:"03",title:"Test@email.com have have sent you enquiries",type:"enquiry",date:new Date("2021/8/6")},{id:"04",title:"Success, your Email have been verified!!!",type:"app",date:new Date("2021/8/5")},{id:"05",title:"Welcome friend, Account created",type:"app",date:new Date("2021/8/5")}]}ngOnInit(){}itemClicked(){console.log("item is clicked")}getItemBadge(n){switch(n){case C.z.Activity:return"secondary";case C.z.Enquiry:return"success";default:return"primary"}}static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-notifications"]],decls:12,vars:1,consts:[[1,"notification-container","ion-padding-vertical"],["size","12"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"],[1,"item-right-side"],[3,"color"]],template:function(i,r){1&i&&(t.j41(0,"ion-content")(1,"div",0)(2,"ion-grid")(3,"ion-row")(4,"ion-col",1)(5,"ion-card")(6,"ion-card-header")(7,"ion-card-title"),t.EFF(8," My Notifications "),t.k0s()(),t.j41(9,"ion-card-content")(10,"ion-list"),t.DNE(11,M,8,6,"ion-item",2),t.k0s()()()()()()()()),2&i&&(t.R7$(11),t.Y8G("ngForOf",r.notifications))},dependencies:[a.Sq,o.In,o.b_,o.I9,o.ME,o.tN,o.hU,o.W9,o.lO,o.uz,o.he,o.nf,o.ln,a.vh],styles:["ion-card[_ngcontent-%COMP%]{box-shadow:none}.notification-container[_ngcontent-%COMP%]{min-height:100%;max-width:1600px;margin:0 auto}ion-item[_ngcontent-%COMP%]{--inner-padding-bottom: 16px;--inner-padding-top: 16px}ion-item[_ngcontent-%COMP%]   .item-right-side[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center}ion-item[_ngcontent-%COMP%]   .item-right-side[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{margin:0 8px 0 0}"]})}return e})();var j=l(1413),E=l(6977),w=function(e){return e.EnquiryNew="ENQUIRY_NEW",e.EnquiryDelte="ENQUIRY_DELETE",e.PropertyNew="PROPERTY_NEW",e.PropertyDelete="PROPERTY_DELETE",e.PropertyUpdate="PROPERTY_UPDATE",e.UserLogin="USER_LOGIN",e.UserLogout="USER_LOGOUT",e.UserRegister="USER_REGISTER",e.UserUpdate="USER_UPDATE",e}(w||{}),I=l(1712);function R(e,p){if(1&e){const n=t.RV6();t.j41(0,"button",6),t.bIt("click",function(){t.eBV(n);const r=t.XpG().$implicit,m=t.XpG(2);return t.Njj(m.viewProperty(r))}),t.EFF(1," View Property "),t.k0s()}}function N(e,p){if(1&e){const n=t.RV6();t.j41(0,"button",6),t.bIt("click",function(){t.eBV(n);const r=t.XpG().$implicit,m=t.XpG(2);return t.Njj(m.viewEnquiry(r))}),t.EFF(1," View Enquiry "),t.k0s()}}function T(e,p){if(1&e&&(t.j41(0,"li",1),t.nrm(1,"div",2),t.j41(2,"time",3),t.EFF(3),t.k0s(),t.j41(4,"p",4),t.EFF(5),t.k0s(),t.DNE(6,R,2,0,"button",5)(7,N,2,0,"button",5),t.k0s()),2&e){const n=p.$implicit,i=t.XpG(2);t.R7$(3),t.SpI(" ",n.createdAt," "),t.R7$(2),t.SpI(" ",n.description," "),t.R7$(),t.Y8G("ngIf",n.property_id&&n.action!==i.action.PropertyDelete),t.R7$(),t.Y8G("ngIf",n.enquiry_id&&n.action!==i.action.EnquiryDelte)}}function A(e,p){if(1&e&&(t.j41(0,"ol",0),t.Z7z(1,T,8,4,"li",1,t.Vm6),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Dyx(n.activities())}}function U(e,p){1&e&&(t.j41(0,"ul")(1,"li",7)(2,"h1"),t.EFF(3,"EMPTY"),t.nrm(4,"ion-icon",8),t.k0s()()())}let G=(()=>{class e{constructor(n,i){this.activitiesService=n,this.router=i,this.action=w,this.activities=(0,t.vPA)([]),this.unSubscribe$=new j.B}ngOnInit(){this.activitiesService.activities$.pipe((0,E.Q)(this.unSubscribe$)).subscribe(n=>{this.activities.set(n)})}ngAfterViewInit(){this.activities().length||this.activitiesService.fetchActivities()}ngOnDestroy(){this.unSubscribe$.next(),this.unSubscribe$.complete()}viewProperty(n){n.property_id&&this.router.navigate(["properties",n.property_id])}viewEnquiry(n){n.enquiry_id&&this.router.navigate(["enquiries",n.enquiry_id])}static#t=this.\u0275fac=function(i){return new(i||e)(t.rXU(I.B),t.rXU(c.Ix))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-activity-timeline"]],decls:2,vars:1,consts:[[1,"relative","border-s","border-primary-tint","dark:border-primary"],[1,"mb-10","ms-4"],[1,"absolute","w-3","h-3","md:w-5","md:h-5","bg-gray-200","rounded-full","mt-1.5","-start-1.5","md:-start-2.5","border","border-primary-tint","dark:border-gray-900","dark:bg-primary"],[1,"text-sm","font-normal","leading-none","text-gray-400","dark:text-gray-500","md:!text-[1rem]"],[1,"!text-[16px]","md:!text-[18px]","!mt-1"],["type","button","class","inline-flex mt-2 bg-primary text-white px-3 py-2 rounded-md",3,"click",4,"ngIf"],["type","button",1,"inline-flex","mt-2","bg-primary","text-white","px-3","py-2","rounded-md",3,"click"],[1,"h-[100px]","flex","items-center","justify-center"],["name","alert-circle-outline"]],template:function(i,r){1&i&&t.DNE(0,A,3,0,"ol",0)(1,U,5,0),2&i&&t.vxM(0,r.activities().length?0:1)},dependencies:[a.bT,o.iq]})}return e})();function D(e,p){1&e&&(t.j41(0,"ion-card-content",25),t.nrm(1,"app-activity-timeline"),t.k0s())}function S(e,p){1&e&&(t.j41(0,"ion-card-content",25)(1,"div",26)(2,"h1"),t.EFF(3,"EMPTY"),t.nrm(4,"ion-icon",27),t.k0s()()())}function $(e,p){if(1&e){const n=t.RV6();t.j41(0,"ion-content")(1,"div",1)(2,"ion-grid")(3,"ion-row")(4,"ion-col",2)(5,"ion-card",3)(6,"ion-card-header",4)(7,"ion-card-title",5),t.EFF(8," My Profile, "),t.k0s(),t.j41(9,"div",6),t.nrm(10,"img",7),t.k0s()(),t.j41(11,"ion-card-content")(12,"input",8),t.bIt("change",function(r){t.eBV(n);const m=t.XpG();return t.Njj(m.onSelectFile(r))}),t.k0s(),t.j41(13,"ion-button",9),t.bIt("click",function(){t.eBV(n);const r=t.XpG();return t.Njj(r.toggleUpload())}),t.EFF(14," Upload Image "),t.k0s(),t.j41(15,"div",10)(16,"div",11),t.nrm(17,"ion-icon",12),t.j41(18,"ion-text"),t.EFF(19),t.nI1(20,"date"),t.k0s()(),t.j41(21,"div",11),t.nrm(22,"ion-icon",13),t.j41(23,"ion-text"),t.EFF(24,"Visited For 1 day"),t.k0s()()()()()(),t.j41(25,"ion-col",14)(26,"ion-card",3)(27,"ion-card-header")(28,"ion-card-title"),t.EFF(29," My Information "),t.k0s()(),t.j41(30,"ion-card-content")(31,"form",15)(32,"ion-item",16),t.nrm(33,"ion-input",17),t.k0s(),t.j41(34,"ion-item",16),t.nrm(35,"ion-input",18),t.k0s(),t.j41(36,"ion-item",16),t.nrm(37,"ion-textarea",19),t.k0s(),t.j41(38,"ion-item",16),t.nrm(39,"ion-input",20),t.k0s(),t.j41(40,"div",21)(41,"ion-button"),t.EFF(42,"SAVE CHANGES"),t.k0s()()()()()()(),t.j41(43,"ion-row")(44,"ion-col",22)(45,"ion-card",3)(46,"ion-card-header")(47,"div",23)(48,"ion-button",24),t.bIt("click",function(){t.eBV(n);const r=t.XpG();return t.Njj(r.toggleActivityPropertyTab())}),t.EFF(49," My Activities "),t.k0s(),t.j41(50,"ion-button",24),t.bIt("click",function(){t.eBV(n);const r=t.XpG();return t.Njj(r.toggleActivityPropertyTab())}),t.EFF(51," My Properties "),t.k0s()()(),t.DNE(52,D,2,0,"ion-card-content",25)(53,S,5,0),t.k0s()()()()()()}if(2&e){const n=t.XpG();t.R7$(10),t.Y8G("src",n.imgUrl,t.B4B),t.R7$(2),t.Y8G("hidden",!0),t.R7$(7),t.SpI("Joined ",t.bMT(20,10,null==n.user?null:n.user.created),""),t.R7$(14),t.Y8G("value",null==n.user?null:n.user.email),t.R7$(2),t.Y8G("value",null==n.user?null:n.user.fullName),t.R7$(2),t.Y8G("value",null==n.user?null:n.user.aboutMe),t.R7$(2),t.Y8G("value",null==n.user?null:n.user.location),t.R7$(9),t.Y8G("fill",n.isActivityActive()?"solid":"clear"),t.R7$(2),t.Y8G("fill",n.isActivityActive()?"clear":"solid"),t.R7$(2),t.vxM(52,n.isActivityActive()?52:53)}}let z=(()=>{class e{constructor(n){this.userService=n,this.imgUrl="./assets/images/avatar.png",this.isActivityActive=(0,t.vPA)(!0),this.userService.user$.subscribe(i=>this.user=i)}toggleUpload(){document.getElementById("image-upload").click()}onSelectFile(n){if(n.target.files&&n.target.files[0]){const i=new FileReader;i.readAsDataURL(n.target.files[0]),i.onload=r=>{this.imgUrl=r.target.result,console.log(this.imgUrl)}}}toggleActivityPropertyTab(){this.isActivityActive.set(!this.isActivityActive())}static#t=this.\u0275fac=function(i){return new(i||e)(t.rXU(d.D))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-profile"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"profile-container","ion-padding-vertical"],["size","12","sizeMd","4"],[1,"shadow-none"],[1,"ion-no-padding"],[1,"ion-padding"],[1,"profile-img-container"],[3,"src"],["type","file","accept","image/*","id","image-upload",3,"change","hidden"],["color","primary","expand","block",3,"click"],[1,"app-use-info"],[1,"item"],["name","flame-outline"],["name","calendar-outline"],["size","12","sizeMd","8"],[1,"form-information"],["lines","none"],["labelPlacement","floating","label","Email *","type","email",3,"value"],["labelPlacement","floating","label","Full Name *","type","text",3,"value"],["placeholder","...","labelPlacement","floating","label","About Me:",3,"value"],["labelPlacement","floating","label","Location","type","text",3,"value"],[1,"ion-text-end","ion-padding-vertical"],["size","12",1,""],[1,"border-b-2","border-primary-tint","flex","flex-row","items-center","gap-x-[2px]"],["color","primary",1,"tab-button","m-0","border-b-0",3,"click","fill"],[1,"ml-8"],[1,"h-[100px]","flex","items-center","justify-center"],["name","alert-circle-outline"]],template:function(i,r){1&i&&t.DNE(0,$,54,12,"ion-content",0),2&i&&t.Y8G("ngIf",r.user)},dependencies:[a.bT,s.qT,s.cb,s.cV,o.Jm,o.b_,o.I9,o.ME,o.tN,o.hU,o.W9,o.lO,o.iq,o.$w,o.uz,o.ln,o.IO,o.nc,o.Gw,G,a.vh],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-background-color-step-100)}.tab-button[_ngcontent-%COMP%]{--border-radius: 0}.profile-container[_ngcontent-%COMP%]{min-height:100%;max-width:1600px;margin:0 auto}.profile-img-container[_ngcontent-%COMP%]{padding:16px 0}.profile-img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:16px;height:auto;width:100%;max-height:300px;max-width:300px;display:block;margin-left:auto;margin-right:auto}.image-input[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);color:var(--ion-colo-light)}.app-use-info[_ngcontent-%COMP%]{padding:16px 0}.app-use-info[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:0 0 12px}.app-use-info[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;margin-right:4px}.app-use-info[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-size:16px;margin-right:4px}.form-information[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--inner-padding-end: 0;--inner-padding-start: 0;--padding-end: 0;--padding-start: 0;--padding-top: 0;--padding-bottom: 0;margin:0 0 16px}.form-information[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{--color: #8794a4}.form-information[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .form-information[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{--padding-start: 12px;padding:6px;border:1px solid rgba(0,57,100,.418);box-sizing:border-box;border-radius:4px;margin-top:8px}.form-information[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]::placeholder, .form-information[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]::placeholder{font-size:15px}.activities-section[_ngcontent-%COMP%]{margin:90px 0 0}.activities-section[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-size:30px;font-weight:700;text-align:center;padding:0 0 24px;border-bottom:5px solid var(--ion-color-primary)}.activities-section[_ngcontent-%COMP%]   .activities-empty[_ngcontent-%COMP%]{height:300px;width:100%;display:flex;justify-content:center;align-items:center}.activities-section[_ngcontent-%COMP%]   .activities-empty[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:35px;letter-spacing:1.5px}.activities-section[_ngcontent-%COMP%]   .activities-empty[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:50px}"]})}return e})();var F=l(5269),k=l(1765);const V=()=>["/user/signin"];function Y(e,p){1&e&&(t.j41(0,"div",18),t.nrm(1,"app-alert-card",19),t.k0s())}function B(e,p){1&e&&(t.j41(0,"div",18),t.nrm(1,"app-alert-card",20),t.k0s())}function X(e,p){1&e&&(t.j41(0,"div",18),t.nrm(1,"app-alert-card",21),t.k0s())}function L(e,p){1&e&&(t.j41(0,"div",18),t.nrm(1,"app-alert-card",22),t.k0s())}let W=(()=>{class e{constructor(n,i,r,m,_){this.fb=n,this.toastCtrl=i,this.loadingController=r,this.router=m,this.user=_,this.error=!1,this.registerForm=this.fb.group({fullName:["",[s.k0.required,s.k0.minLength(4)]],email:["",[s.k0.required,g.N.emailValidation()]],password:["",[s.k0.required,s.k0.minLength(8),g.N.patternValidator(/\d/,{hasNumber:!0}),g.N.patternValidator(/[A-Z]/,{hasCapitalCase:!0}),g.N.patternValidator(/[a-z]/,{hasSmallCase:!0}),g.N.patternValidator(/[!@#$%^&*(),.?":{}|<>]/,{hasSpecialCharacters:!0})]],confirm:["",s.k0.required],termService:[!1,s.k0.required]},{validators:g.N.isDifferent("password","confirm","notConfirmed")})}ngOnInit(){}submit(){var n=this;return(0,u.A)(function*(){if(n.registerForm.invalid)return void(n.error=!0);const i=yield n.presentLoading();i.present();const{fullName:r,email:m,password:_}=n.registerForm.value,b=yield n.user.register(r,m,_);if(!b.error)return i.dismiss(),yield n.showToast("Success, registration is complete."),void(yield n.router.navigateByUrl("/user/account/profile"));yield n.showToast("Error:"+b.error.message,"danger"),i.dismiss()})()}presentLoading(){var n=this;return(0,u.A)(function*(){return yield n.loadingController.create({cssClass:"my-custom-class",message:"Please wait..."})})()}showToast(n,i="success"){var r=this;return(0,u.A)(function*(){(yield r.toastCtrl.create({message:n,duration:2e3,color:i})).present()})()}static#t=this.\u0275fac=function(i){return new(i||e)(t.rXU(s.ze),t.rXU(o.K_),t.rXU(o.Xi),t.rXU(c.Ix),t.rXU(d.D))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-register"]],decls:43,vars:8,consts:[[3,"translucent"],["slot","end"],[1,"register-container"],[1,"register-card"],[1,"ion-text-center"],[1,"logo-container"],["src","../assets/images/logo.png","alt","logo"],[1,"source"],[3,"submit","formGroup"],["type","text","labelPlacement","floating","label","Full Name","formControlName","fullName"],["class","alert-errors",4,"ngIf"],["type","email","labelPlacement","floating","label","Email","formControlName","email"],["label","Password","labelPlacement","floating","type","password","formControlName","password"],["type","password","labelPlacement","floating","label","Confirm Password","formControlName","confirm"],[1,"ion-padding-vertical"],["size","large","expand","full","color","primary","type","submit",1,"ion-margin-top"],[1,"ask-signin"],[3,"routerLink"],[1,"alert-errors"],["content","Full Name is too short."],["content","Email is not valid. ex: name@email.com"],["content","Length needs to be 8+ long & contain a\n                (number, special characters, small case & capitalize)."],["content","Password not confirmed."]],template:function(i,r){1&i&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Register Page"),t.k0s(),t.j41(4,"ion-buttons",1),t.nrm(5,"ion-menu-button"),t.k0s()()(),t.j41(6,"ion-content")(7,"div",2)(8,"ion-card",3)(9,"ion-card-header",4)(10,"div",5),t.nrm(11,"img",6)(12,"div",7),t.k0s()(),t.j41(13,"ion-card-content")(14,"form",8),t.bIt("submit",function(){return r.submit()}),t.j41(15,"ion-list")(16,"ion-item"),t.nrm(17,"ion-input",9),t.k0s(),t.DNE(18,Y,2,0,"div",10),t.j41(19,"ion-item"),t.nrm(20,"ion-input",11),t.k0s(),t.DNE(21,B,2,0,"div",10),t.j41(22,"ion-item"),t.nrm(23,"ion-input",12),t.k0s(),t.DNE(24,X,2,0,"div",10),t.j41(25,"ion-item"),t.nrm(26,"ion-input",13),t.k0s(),t.DNE(27,L,2,0,"div",10),t.j41(28,"div",14),t.EFF(29," By continuing, you agree to our "),t.j41(30,"a"),t.EFF(31,"User Agreement"),t.k0s(),t.EFF(32," and "),t.j41(33,"a"),t.EFF(34,"Privacy Policy"),t.k0s(),t.EFF(35,". "),t.k0s(),t.j41(36,"ion-button",15),t.EFF(37," Sign Up "),t.k0s(),t.j41(38,"div",16),t.EFF(39," Already have an Account? "),t.j41(40,"a",17),t.EFF(41,"Sign in"),t.k0s()()()()()()(),t.nrm(42,"app-footer"),t.k0s()),2&i&&(t.Y8G("translucent",!0),t.R7$(14),t.Y8G("formGroup",r.registerForm),t.R7$(4),t.Y8G("ngIf",r.registerForm.get("fullName").errors),t.R7$(3),t.Y8G("ngIf",r.registerForm.get("email").errors),t.R7$(3),t.Y8G("ngIf",r.registerForm.get("password").errors),t.R7$(3),t.Y8G("ngIf",null==r.registerForm.errors?null:r.registerForm.errors.notConfirmed),t.R7$(13),t.Y8G("routerLink",t.lJ4(7,V)))},dependencies:[a.bT,s.qT,s.BC,s.cb,o.Jm,o.QW,o.b_,o.I9,o.ME,o.W9,o.eU,o.$w,o.uz,o.nf,o.MC,o.BC,o.ai,o.Gw,o.oY,c.Wk,s.j4,s.JD,F.u,k.n],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-background-color-step-100)}.register-container[_ngcontent-%COMP%]{position:relative;max-width:1200px;margin:0 auto;width:100%;min-height:calc(100% - 56px);display:flex;justify-content:center;align-items:center}.register-card[_ngcontent-%COMP%]{width:100%;max-width:400px}.register-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-top:8px;--background: var(--ion-background-color-step-100)}.logo-container[_ngcontent-%COMP%]{margin:30px auto 0;max-width:200px;text-align:center}.alert-errors[_ngcontent-%COMP%]{width:100%;margin:6px 0 0}.ask-signin[_ngcontent-%COMP%]{width:100%;margin-top:36px;display:flex;justify-content:center;text-transform:uppercase}.ask-signin[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:6px}@media (max-width: 600px){ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-dark-contrast)}.register-card[_ngcontent-%COMP%]{margin:0;box-shadow:none;min-height:100%;width:100%;max-width:400px}}"]})}return e})();var y=l(5312),J=l(2872);const K=()=>["/user/register"];function q(e,p){1&e&&(t.j41(0,"div",17),t.nrm(1,"app-alert-card",18),t.k0s())}function H(e,p){1&e&&(t.j41(0,"div",17),t.nrm(1,"app-alert-card",19),t.k0s())}function Q(e,p){1&e&&(t.j41(0,"div",20),t.EFF(1," OR "),t.k0s())}function Z(e,p){1&e&&(t.j41(0,"div",21),t.nrm(1,"div",22),t.k0s())}const tt=[{path:"",redirectTo:"/user/account",pathMatch:"full"},{path:"account",component:(()=>{class e{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-user"]],decls:23,vars:1,consts:[[1,"ion-no-border",3,"translucent"],["slot","end"],["slot","top"],["tab","profile"],["name","person-circle-outline"],["tab","change-password"],["name","lock-closed-outline"],["tab","notifications"],["name","notifications-outline"]],template:function(i,r){1&i&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Account Page"),t.k0s(),t.j41(4,"ion-buttons",1),t.nrm(5,"ion-menu-button"),t.k0s()()(),t.j41(6,"ion-content")(7,"div"),t.nrm(8,"ion-router-outlet"),t.k0s(),t.j41(9,"ion-tabs")(10,"ion-tab-bar",2)(11,"ion-tab-button",3),t.nrm(12,"ion-icon",4),t.j41(13,"ion-label"),t.EFF(14,"Profile"),t.k0s()(),t.j41(15,"ion-tab-button",5),t.nrm(16,"ion-icon",6),t.j41(17,"ion-label"),t.EFF(18,"Change Password"),t.k0s()(),t.j41(19,"ion-tab-button",7),t.nrm(20,"ion-icon",8),t.j41(21,"ion-label"),t.EFF(22,"Notifications"),t.k0s()()()()()),2&i&&t.Y8G("translucent",!0)},dependencies:[o.QW,o.W9,o.eU,o.iq,o.he,o.MC,o.Jq,o.qW,o.BC,o.ai,o.p4,o.Rg],styles:["ion-tab-bar[_ngcontent-%COMP%]{--border: 1px solid var( --ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, rgba(0, 0, 0, .13))) );box-shadow:2px 0 2px #0000001f}"]})}return e})(),children:[{path:"",redirectTo:"/user/account/profile",pathMatch:"full"},{path:"profile",component:z},{path:"change-password",component:P},{path:"notifications",component:O}],canActivate:[h]},{path:"register",component:W,canActivate:[f]},{path:"signin",component:(()=>{class e{constructor(n,i,r,m,_,b){this.fb=n,this.user=i,this.toastCtrl=r,this.loadingController=m,this.router=_,this.platform=b,this.error=!1,this.authFailed=!1,this.showSocial=!1,this.signinForm=this.fb.group({email:["",[s.k0.required,s.k0.email]],password:["",s.k0.required]})}ngOnInit(){this.showSocial=!!y.c.api.googleAuthClientId}ngAfterViewInit(){this.platform.is("capacitor")||this.initializeGoogleSigninWeb()}submit(){var n=this;return(0,u.A)(function*(){if(n.signinForm.invalid)return void(n.error=!0);const i=yield n.presentLoading();i.present();const{email:r,password:m}=n.signinForm.value,_=yield n.user.signIn(r,m);i.dismiss(),200===_.status?(n.showToast("Success, You are logged in"),n.router.navigate(["/map"],{replaceUrl:!0})):n.showToast(_.message,"danger")})()}initializeGoogleSigninWeb(){y.c.api.googleAuthClientId&&(google.accounts.id.initialize({client_id:y.c.api.googleAuthClientId,callback:this.handleCredentialResponse.bind(this),auto_select:!1,cancel_on_tap_outside:!0}),google.accounts.id.renderButton(document.getElementById("web-google-button"),{theme:"outline",size:"large",width:"330px"}),google.accounts.id.prompt(function(){var n=(0,u.A)(function*(i){console.log(i)});return function(i){return n.apply(this,arguments)}}()))}handleCredentialResponse(n){var i=this;return(0,u.A)(function*(){const r=yield i.presentLoading();r.present(),(yield i.user.googleAuth(n))&&(yield i.showToast("Success, You are logged in"),i.router.navigateByUrl("/map"),r.dismiss())})()}presentLoading(){var n=this;return(0,u.A)(function*(){return yield n.loadingController.create({cssClass:"my-custom-class",message:"Please wait..."})})()}showToast(n,i="success"){var r=this;return(0,u.A)(function*(){(yield r.toastCtrl.create({message:n,duration:2e3,color:i})).present()})()}static#t=this.\u0275fac=function(i){return new(i||e)(t.rXU(s.ze),t.rXU(d.D),t.rXU(o.K_),t.rXU(o.Xi),t.rXU(c.Ix),t.rXU(J.OD))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-signin"]],decls:31,vars:8,consts:[[3,"translucent"],["slot","end"],[1,"signin-container"],[1,"signin-card"],[1,"ion-text-center"],[1,"logo-container"],["src","../assets/images/logo.png","alt","logo"],[1,"source"],[3,"submit","formGroup"],["labelPlacement","floating","label","Email","type","email","formControlName","email"],["class","alert-errors",4,"ngIf"],["labelPlacement","floating","label","Password","type","password","formControlName","password"],["size","large","expand","full","color","primary","type","submit",1,"ion-margin-top"],["class","ion-margin-vertical ion-text-center",4,"ngIf"],["class","social-container",4,"ngIf"],[1,"ask-register"],[3,"routerLink"],[1,"alert-errors"],["content","Email is not valid."],["content","Wrong Email or Password."],[1,"ion-margin-vertical","ion-text-center"],[1,"social-container"],["data-type","standard","data-shape","rectangular","data-theme","outline","data-text","signin_with","data-size","large","data-logo_alignment","left","id","web-google-button","data-width","300px",1,"g_id_signin"]],template:function(i,r){1&i&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Sign In Page"),t.k0s(),t.j41(4,"ion-buttons",1),t.nrm(5,"ion-menu-button"),t.k0s()()(),t.j41(6,"ion-content")(7,"div",2)(8,"ion-card",3)(9,"ion-card-header",4)(10,"div",5),t.nrm(11,"img",6)(12,"div",7),t.k0s()(),t.j41(13,"ion-card-content")(14,"form",8),t.bIt("submit",function(){return r.submit()}),t.j41(15,"ion-list")(16,"ion-item"),t.nrm(17,"ion-input",9),t.k0s(),t.DNE(18,q,2,0,"div",10),t.j41(19,"ion-item"),t.nrm(20,"ion-input",11),t.k0s(),t.DNE(21,H,2,0,"div",10),t.j41(22,"ion-button",12),t.EFF(23," Sign In "),t.k0s(),t.DNE(24,Q,2,0,"div",13)(25,Z,2,0,"div",14),t.j41(26,"div",15),t.EFF(27," First time here? "),t.j41(28,"a",16),t.EFF(29,"Register"),t.k0s()()()()()()(),t.nrm(30,"app-footer"),t.k0s()),2&i&&(t.Y8G("translucent",!0),t.R7$(14),t.Y8G("formGroup",r.signinForm),t.R7$(4),t.Y8G("ngIf",r.error&&r.signinForm.get("email").errors),t.R7$(3),t.Y8G("ngIf",r.authFailed),t.R7$(3),t.Y8G("ngIf",r.showSocial),t.R7$(),t.Y8G("ngIf",r.showSocial),t.R7$(3),t.Y8G("routerLink",t.lJ4(7,K)))},dependencies:[a.bT,s.qT,s.BC,s.cb,o.Jm,o.QW,o.b_,o.I9,o.ME,o.W9,o.eU,o.$w,o.uz,o.nf,o.MC,o.BC,o.ai,o.Gw,o.oY,c.Wk,s.j4,s.JD,F.u,k.n],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-background-color-step-100)}.signin-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;width:100%;min-height:calc(100% - 56px);display:flex;justify-content:center;align-items:center}.signin-card[_ngcontent-%COMP%]{width:100%;max-width:400px}.signin-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-top:8px;--background: var(--ion-background-color-step-100)}.logo-container[_ngcontent-%COMP%]{margin:30px auto 0;max-width:200px;text-align:center}.alert-errors[_ngcontent-%COMP%]{width:100%;margin:6px 0 0}.ask-register[_ngcontent-%COMP%]{width:100%;margin-top:36px;display:flex;justify-content:center;text-transform:uppercase}.ask-register[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:6px}.social-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}@media (max-width: 600px){ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-dark-contrast)}.signin-card[_ngcontent-%COMP%]{margin:0;box-shadow:none;min-height:100%;width:100%;max-width:400px}}"]})}return e})(),canActivate:[f]}];let nt=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275mod=t.$C({type:e});static#e=this.\u0275inj=t.G2t({imports:[c.iI.forChild(tt),c.iI]})}return e})();var et=l(3887);let it=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275mod=t.$C({type:e});static#e=this.\u0275inj=t.G2t({imports:[a.MD,s.YN,o.bv,nt,et.G]})}return e})()}}]);